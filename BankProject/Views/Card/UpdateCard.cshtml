@model CardDto

@{
    ViewBag.ObjectName = "Updating Card";
    Layout = "~/Views/Shared/_LayoutAddObject.cshtml";
}
@section backButton {
    <a asp-controller="Card" asp-action="CardsInfo" asp-route-bankId="@Model.BankId" class="back-to-home">Back to cards list page</a>
}

<section class="inputs">
    <form asp-controller="Card" asp-action="UpdateCard" method="post">
        <input asp-for="BankId" value="@Model.BankId" type="hidden"></input>
        <input asp-for="CardName" placeholder="Please enter card name" value="@Model.CardName"></input>
        <span asp-validation-for="CardName" class="input-error-message"></span>
        <select asp-for="CardType">
            @if (Model.CardType.ToUpper() == "CREDIT")
            {
                <option value="CREDIT" selected>Credit</option>
                <option value="DEBIT">Debit</option>
            }
            @if (Model.CardType.ToUpper() == "DEBIT")
            {
                <option value="CREDIT">Credit</option>
                <option value="DEBIT" selected>Debit</option>
            }
        </select>
        <span asp-validation-for="CardType" class="input-error-message"></span>
        <select asp-for="CardLevel">
            @if (Model.CardLevel.ToUpper() == "PREMIUM")
            {
                <option value="PREMIUM" selected>Premium</option>
                <option value="USUAL">Usual</option>
            }
            @if (Model.CardLevel.ToUpper() == "USUAL")
            {
                <option value="PREMIUM">Premium</option>
                <option value="USUAL" selected>Usual</option>
            }
        </select>
        <span asp-validation-for="CardLevel" class="input-error-message"></span>
        <input asp-for="ValidityPeriod" type="number" step="0.5" placeholder="Please enter card validity period" 
        value="@Model.ValidityPeriod"></input>
        <span asp-validation-for="ValidityPeriod" class="input-error-message"></span>
        <input asp-for="MaxCreditLimit" type="number" placeholder="Please enter max Credit limit" 
        value="@Model.MaxCreditLimit"></input>
        <span asp-validation-for="MaxCreditLimit" class="input-error-message"></span>
        <input asp-for="PaymentSystem" placeholder="Please enter payment system" value="@Model.PaymentSystem"></input>
        <span asp-validation-for="PaymentSystem" class="input-error-message"></span>
        <button type="submit">Update Card</button>

    </form>
</section>
<section>
    <h1>@ViewBag.Message</h1>
    @if (ViewBag.Errors != null)
    {
        <div class="errors">
            @foreach (var item in ViewBag.Errors)
            {
                <h4>
                    @item
                </h4>
            }
        </div>
    }
</section>
